@0
S: MOV RIGHT, ACC
JEZ  CHECK
SWP
JGZ PASS
JMP S
PASS: SWP
MOV ACC, DOWN
JMP S
CHECK:
MOV ACC, DOWN
SWP
L: MOV ACC, DOWN
JLZ S
MOV RIGHT, ACC
JMP L

@1
CHECK: MOV UP, ACC
JEZ BIN
MOV ACC, LEFT
JMP CHECK

BIN:
MOV 0, LEFT
MOV -1, LEFT

@2


@3
S: MOV UP, ACC
JEZ BIN
SWP
JGZ PASS
JMP S
PASS: SWP
MOV ACC, RIGHT
JMP S

BIN:MOV ACC, RIGHT
SWP
L: MOV ACC, RIGHT
JLZ S
MOV UP, ACC
JMP L

@4
S: MOV LEFT, ACC
JEZ BIN
SWP
JGZ PASS
JMP S
PASS: SWP
MOV ACC, RIGHT
JMP S

BIN:MOV ACC, RIGHT
SWP
L: MOV ACC, RIGHT
JLZ S
MOV LEFT, ACC
JMP L

@5
S: MOV LEFT, ACC
JEZ BIN
SWP
JGZ PASS
JMP S
PASS: SWP
MOV ACC, RIGHT
JMP S

BIN:MOV ACC, RIGHT
SWP
L: MOV ACC, RIGHT
JLZ S
MOV LEFT, ACC
JMP L

@6
S: MOV LEFT, ACC
JEZ BIN
SWP
JGZ PASS
JMP S
PASS: SWP
MOV ACC, DOWN
JMP S

BIN:MOV ACC, DOWN
SWP
L: MOV ACC, DOWN
JLZ S
MOV LEFT, ACC
JMP L

@7
MOV RIGHT, DOWN

@8
S:
MOV UP, ACC
JEZ S
JLZ END
MOV ACC, LEFT
JMP S

END:
MOV 0, LEFT